{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5faf54d0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"headline\"\n}, \"Recuperar Contraseña\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_toolbar_title = _resolveComponent(\"v-toolbar-title\");\n  const _component_v_toolbar = _resolveComponent(\"v-toolbar\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_dialog = _resolveComponent(\"v-dialog\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, {\n    class: \"fill-height\",\n    fluid: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      align: \"center\",\n      justify: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        sm: \"8\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, {\n          class: \"elevation-12\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_v_toolbar, {\n            color: \"primary\",\n            dark: \"\",\n            flat: \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_toolbar_title, null, {\n              default: _withCtx(() => [_createTextVNode(\"Ingresa Credenciales\")]),\n              _: 1 /* STABLE */\n            })]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [_ctx.alert ? (_openBlock(), _createBlock(_component_v_alert, {\n              key: 0,\n              type: \"error\",\n              dismissible: \"\",\n              onClick: _cache[0] || (_cache[0] = $event => _ctx.alert = false)\n            }, {\n              default: _withCtx(() => [_createTextVNode(\" Las credenciales son incorrectas \")]),\n              _: 1 /* STABLE */\n            })) : _createCommentVNode(\"v-if\", true), _createVNode(_component_v_form, {\n              ref: \"form\",\n              modelValue: _ctx.valid,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.valid = $event),\n              \"lazy-validation\": \"\"\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                label: \"Correo Electrónico\",\n                modelValue: _ctx.email,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.email = $event),\n                rules: _ctx.emailRules,\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_text_field, {\n                label: \"Contraseña\",\n                modelValue: _ctx.password,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.password = $event),\n                rules: _ctx.passwordRules,\n                type: \"password\",\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_btn, {\n                text: \"\",\n                color: \"primary\",\n                onClick: $options.forgotPassword\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"¿Olvidaste tu contraseña?\")]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\"])]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_card_actions, null, {\n            default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n              color: \"primary\",\n              onClick: $options.submit\n            }, {\n              default: _withCtx(() => [_createTextVNode(\"Entrar\")]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"onClick\"])]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_dialog, {\n      modelValue: _ctx.forgotPasswordDialog,\n      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => _ctx.forgotPasswordDialog = $event),\n      \"max-width\": \"500\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_card, null, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, null, {\n          default: _withCtx(() => [_hoisted_1]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card_text, null, {\n          default: _withCtx(() => [_createVNode(_component_v_form, {\n            ref: \"resetForm\",\n            modelValue: _ctx.resetValid,\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.resetValid = $event),\n            \"lazy-validation\": \"\"\n          }, {\n            default: _withCtx(() => [_createVNode(_component_v_text_field, {\n              label: \"Correo Electrónico\",\n              modelValue: _ctx.resetEmail,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.resetEmail = $event),\n              rules: _ctx.emailRules,\n              required: \"\"\n            }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"])]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card_actions, null, {\n          default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n            color: \"primary\",\n            onClick: _ctx.sendResetEmail\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Enviar\")]),\n            _: 1 /* STABLE */\n          }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n            text: \"\",\n            onClick: _cache[6] || (_cache[6] = $event => _ctx.forgotPasswordDialog = false)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Cancelar\")]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createElementVNode","class","_createBlock","_component_v_container","fluid","default","_withCtx","_createVNode","_component_v_row","align","justify","_component_v_col","cols","sm","md","_component_v_card","_component_v_toolbar","color","dark","flat","_component_v_toolbar_title","_createTextVNode","_","_component_v_card_text","_ctx","alert","_component_v_alert","key","type","dismissible","onClick","_cache","$event","_createCommentVNode","_component_v_form","ref","modelValue","valid","_component_v_text_field","label","email","rules","emailRules","required","password","passwordRules","_component_v_btn","text","$options","forgotPassword","_component_v_card_actions","_component_v_spacer","submit","_component_v_dialog","forgotPasswordDialog","_component_v_card_title","_hoisted_1","resetValid","resetEmail","sendResetEmail"],"sources":["/Users/angel/school-project/my-app/src/components/LoginPage.vue"],"sourcesContent":["<template>\n  <v-container class=\"fill-height\" fluid>\n    <v-row align=\"center\" justify=\"center\">\n      <v-col cols=\"12\" sm=\"8\" md=\"4\">\n        <v-card class=\"elevation-12\">\n          <v-toolbar color=\"primary\" dark flat>\n            <v-toolbar-title>Ingresa Credenciales</v-toolbar-title>\n          </v-toolbar>\n          <v-card-text>\n            <v-alert v-if=\"alert\" type=\"error\" dismissible @click=\"alert = false\">\n              Las credenciales son incorrectas\n            </v-alert>\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-text-field\n                label=\"Correo Electrónico\"\n                v-model=\"email\"\n                :rules=\"emailRules\"\n                required\n              ></v-text-field>\n              <v-text-field\n                label=\"Contraseña\"\n                v-model=\"password\"\n                :rules=\"passwordRules\"\n                type=\"password\"\n                required\n              ></v-text-field>\n              <v-btn text color=\"primary\" @click=\"forgotPassword\">¿Olvidaste tu contraseña?</v-btn>\n            </v-form>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" @click=\"submit\">Entrar</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n\n    <v-dialog v-model=\"forgotPasswordDialog\" max-width=\"500\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">Recuperar Contraseña</span>\n        </v-card-title>\n        <v-card-text>\n          <v-form ref=\"resetForm\" v-model=\"resetValid\" lazy-validation>\n            <v-text-field\n              label=\"Correo Electrónico\"\n              v-model=\"resetEmail\"\n              :rules=\"emailRules\"\n              required\n            ></v-text-field>\n          </v-form>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" @click=\"sendResetEmail\">Enviar</v-btn>\n          <v-btn text @click=\"forgotPasswordDialog = false\">Cancelar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data: () => ({\n    alert: false,\n    valid: true,\n    email: '',\n    emailRules: [\n      (v) => !!v || 'Correo requerido',\n      (v) => /.+@.+\\..+/.test(v) || 'Correo debe ser válido'\n    ],\n    password: '',\n    passwordRules: [(v) => !!v || 'Contraseña requerida'],\n    forgotPasswordDialog: false,\n    resetEmail: '',\n    resetValid: true\n  }),\n  methods: {\n    forgotPassword() {\n      this.forgotPasswordDialog = true\n    },\n    async submit () {\n      try {\n        const response = await axios.post('http://localhost:3000/login', {\n          correo: this.email,\n          contraseña: this.password\n        })\n\n        if (response.status === 200) {\n          const { token, rol, nombre, id } = response.data\n\n          // Store the token and the user's name in localStorage\n          localStorage.setItem('token', token)\n          localStorage.setItem('userName', nombre)\n          localStorage.setItem('id', id)\n\n          switch (rol) {\n            case 'admin':\n              this.$router.push('/Admin')\n              break\n            case 'student':\n              this.$router.push('/Student')\n              break\n            case 'teacher':\n              this.$router.push('/Teacher/projects')\n              break\n            default:\n              // Redirect to a default route for unknown roles\n              this.$router.push('/default-route')\n              break\n          }\n\n          console.log('Login successful:', response.data)\n        } else {\n          // Handle other status codes if needed\n        }\n      } catch (error) {\n        console.error('Login error:', error.response.data.error)\n        this.alert = true\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.v-card {\n  margin-top: 100px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}