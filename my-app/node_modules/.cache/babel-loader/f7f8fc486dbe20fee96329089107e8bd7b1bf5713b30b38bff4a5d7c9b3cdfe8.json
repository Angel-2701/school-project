{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  props: {\n    users: Array,\n    selectedProject: Object\n  },\n  data() {\n    return {\n      editDialog: false\n    };\n  },\n  methods: {\n    handleRowClick(item) {\n      // Handle row click event here\n      console.log(\"Row clicked:\", item);\n      // Navigate to a new page and pass the user's ID as route parameters\n      this.$router.push({\n        name: \"UserDetails\",\n        params: {\n          userId: item._id\n        }\n      });\n    },\n    openGradeDialog(user) {\n      this.selectedUser = user;\n      if (!this.selectedUser.grades) {\n        this.selectedUser.grades = {\n          grade1: null,\n          grade2: null,\n          grade3: null\n        };\n      }\n      this.editDialog = true;\n    },\n    openConsultanciesDialog(student) {\n      this.selectedStudent = student;\n      this.enableConsultanciesDialog = true;\n    },\n    saveGrades() {\n      axios.put(`http://localhost:3000/users/${this.selectedUser._id}`, this.selectedUser).then(response => {\n        console.log(\"User updated successfully:\", response.data);\n        this.editDialog = false;\n        this.fetchData();\n      }).catch(error => {\n        console.error(\"Error updating user:\", error);\n      });\n    }\n    // Add other methods as needed\n  }\n};","map":{"version":3,"names":["props","users","Array","selectedProject","Object","data","editDialog","methods","handleRowClick","item","console","log","$router","push","name","params","userId","_id","openGradeDialog","user","selectedUser","grades","grade1","grade2","grade3","openConsultanciesDialog","student","selectedStudent","enableConsultanciesDialog","saveGrades","axios","put","then","response","fetchData","catch","error"],"sources":["/Users/angel/school-project/my-app/src/components/ProjectTable.vue"],"sourcesContent":["<template>\n  <v-main>\n    <!-- Main content -->\n    <v-col cols=\"12\" style=\"max-width: 1500px; margin: 0px auto\">\n      <v-card class=\"text-center\" style=\"width: 100%; margin: 0px auto\">\n        <!-- Students Data -->\n        <v-data-table v-if=\"users.length > 0\" :items=\"users\" align=\"center\">\n          <template v-slot:top>\n            <v-toolbar flat color=\"blue darken-2\">\n              <v-toolbar-title>{{ selectedProject.name }}</v-toolbar-title>\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\n              <v-spacer></v-spacer>\n              <!-- Removed the button for creating a new project -->\n            </v-toolbar>\n          </template>\n          <template v-slot:item=\"{ item }\">\n            <tr @click=\"handleRowClick(item)\" class=\"clickable-row\">\n              <td v-for=\"(value, key) in item\" :key=\"key\">\n                {{ value }}\n              </td>\n              <td>\n                <!-- Use small prop to make the buttons smaller -->\n                <v-tooltip bottom>\n                  <template v-slot:activator=\"{ on }\">\n                    <v-btn\n                      icon\n                      small\n                      color=\"blue darken-2\"\n                      @click=\"openGradeDialog(item)\"\n                      style=\"width: 30px; height: 30px; margin-right: 5px\"\n                      v-on=\"on\"\n                    >\n                      <v-icon style=\"font-size: 18px\"\n                        >mdi-clipboard-check-outline</v-icon\n                      >\n                    </v-btn>\n                  </template>\n                  <span>Assign Grades</span>\n                </v-tooltip>\n\n                <v-btn\n                  icon\n                  small\n                  color=\"green darken-2\"\n                  @click=\"openConsultanciesDialog(item)\"\n                  style=\"width: 30px; height: 30px; margin-right: 5px\"\n                >\n                  <v-icon style=\"font-size: 18px\">mdi-check</v-icon>\n                </v-btn>\n              </td>\n            </tr>\n          </template>\n        </v-data-table>\n      </v-card>\n    </v-col>\n  </v-main>\n\n  <!-- Dialog for assigning grades -->\n  <v-dialog v-model=\"editDialog\" max-width=\"800\">\n    <v-card>\n      <v-card-title class=\"headline\">\n        Assign Grades to {{ selectedUser.nombre }}\n        {{ selectedUser.apellido }}\n      </v-card-title>\n      <v-card-text>\n        <v-row>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"selectedUser.grades.grade1\"\n              :items=\"gradeOptions\"\n              label=\"Grade 1\"\n            ></v-select>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"selectedUser.grades.grade2\"\n              :items=\"gradeOptions\"\n              label=\"Grade 2\"\n            ></v-select>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"selectedUser.grades.grade3\"\n              :items=\"gradeOptions\"\n              label=\"Grade 3\"\n            ></v-select>\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn color=\"blue darken-1\" text @click=\"editDialog = false\"\n          >Cancel</v-btn\n        >\n        <v-btn color=\"blue darken-1\" text @click=\"saveGrades\">Save</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n\n  <!-- Dialog for enabling consultancies -->\n  <v-dialog v-model=\"enableConsultanciesDialog\" max-width=\"800\">\n    <v-card>\n      <v-card-title class=\"headline\">\n        Enable Consultancies for {{ selectedStudent.nombre }}\n        {{ selectedStudent.apellido }}\n      </v-card-title>\n      <v-card-text>\n        <v-text-field\n          v-model=\"selectedStudent.consultancies\"\n          label=\"Number of Consultancies (Max: 16)\"\n          type=\"number\"\n          max=\"16\"\n        ></v-text-field>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn\n          color=\"blue darken-1\"\n          text\n          @click=\"enableConsultanciesDialog = false\"\n          >Cancel</v-btn\n        >\n        <v-btn color=\"blue darken-1\" text @click=\"enableConsultancies\"\n          >Enable</v-btn\n        >\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  props: {\n    users: Array,\n    selectedProject: Object,\n  },\n  data() {\n    return {\n      editDialog: false,\n    };\n  },\n  methods: {\n    handleRowClick(item) {\n      // Handle row click event here\n      console.log(\"Row clicked:\", item);\n      // Navigate to a new page and pass the user's ID as route parameters\n      this.$router.push({\n        name: \"UserDetails\",\n        params: { userId: item._id },\n      });\n    },\n    openGradeDialog(user) {\n      this.selectedUser = user;\n      if (!this.selectedUser.grades) {\n        this.selectedUser.grades = { grade1: null, grade2: null, grade3: null };\n      }\n      this.editDialog = true;\n    },\n    openConsultanciesDialog(student) {\n      this.selectedStudent = student;\n      this.enableConsultanciesDialog = true;\n    },\n    saveGrades() {\n      axios\n        .put(\n          `http://localhost:3000/users/${this.selectedUser._id}`,\n          this.selectedUser\n        )\n        .then((response) => {\n          console.log(\"User updated successfully:\", response.data);\n          this.editDialog = false;\n          this.fetchData();\n        })\n        .catch((error) => {\n          console.error(\"Error updating user:\", error);\n        });\n    },\n    // Add other methods as needed\n  },\n};\n</script>\n\n<style scoped>\n/* Adjustments for burger menu icon color */\n.v-btn i {\n  color: white;\n}\n\n.clickable-row:hover {\n  cursor: pointer;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n</style>\n"],"mappings":";AAiIA,eAAe;EACbA,KAAK,EAAE;IACLC,KAAK,EAAEC,KAAK;IACZC,eAAe,EAAEC;EACnB,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE;IACd,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,cAAcA,CAACC,IAAI,EAAE;MACnB;MACAC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,IAAI,CAAC;MACjC;MACA,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC;QAChBC,IAAI,EAAE,aAAa;QACnBC,MAAM,EAAE;UAAEC,MAAM,EAAEP,IAAI,CAACQ;QAAI;MAC7B,CAAC,CAAC;IACJ,CAAC;IACDC,eAAeA,CAACC,IAAI,EAAE;MACpB,IAAI,CAACC,YAAW,GAAID,IAAI;MACxB,IAAI,CAAC,IAAI,CAACC,YAAY,CAACC,MAAM,EAAE;QAC7B,IAAI,CAACD,YAAY,CAACC,MAAK,GAAI;UAAEC,MAAM,EAAE,IAAI;UAAEC,MAAM,EAAE,IAAI;UAAEC,MAAM,EAAE;QAAK,CAAC;MACzE;MACA,IAAI,CAAClB,UAAS,GAAI,IAAI;IACxB,CAAC;IACDmB,uBAAuBA,CAACC,OAAO,EAAE;MAC/B,IAAI,CAACC,eAAc,GAAID,OAAO;MAC9B,IAAI,CAACE,yBAAwB,GAAI,IAAI;IACvC,CAAC;IACDC,UAAUA,CAAA,EAAG;MACXC,KAAI,CACDC,GAAG,CACD,+BAA8B,IAAI,CAACX,YAAY,CAACH,GAAI,EAAC,EACtD,IAAI,CAACG,YACP,EACCY,IAAI,CAAEC,QAAQ,IAAK;QAClBvB,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEsB,QAAQ,CAAC5B,IAAI,CAAC;QACxD,IAAI,CAACC,UAAS,GAAI,KAAK;QACvB,IAAI,CAAC4B,SAAS,CAAC,CAAC;MAClB,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChB1B,OAAO,CAAC0B,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C,CAAC,CAAC;IACN;IACA;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}